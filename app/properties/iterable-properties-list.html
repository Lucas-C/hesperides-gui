<form class="form-horizontal narrow" role="form" editable-form>
    <!-- Displaying new fields from the model -->
    <div class="form-group iterable-main-block" id="it-prop-{{modelProperty.name}}">
        <div>
            <md-button class = "md-btn md-button md-default-theme" tooltip="Ajouter un block" ng-click = "addValue()">
                <span class="glyphicon glyphicon-plus"></span> {{modelProperty.name}}
            </md-button>
        </div>
        <!-- Pour chaque valorisation d'un bloc iterable -->
        <div class = "iterable-block" ng-repeat="(index, blockValue) in valueProperty.iterable_valorisation_items">
            <!-- Pour chaque champ d'une valorisation d'un bloc iterable -->
            <div ng-repeat="fieldValue in blockValue.values">

                <div ng-if="fieldValue.iterable_valorisation_items">
                    <!--<h2>Un block it√©rable interne ici ;)</h2>-->
                    <!--<iterable-properties-list ng-repeat = "innerModelProp in modelProp.iterable_properties" model-property = "innerModelProp" value-property = "getValues(innerModelProp.name)" ></iterable-properties-list>-->
                </div>

                <div ng-if="!fieldValue.iterable_valorisation_items">
                    <label style="text-align: right; overflow: hidden; text-overflow: ellipsis" title="{{ fieldValue.name }}"
                           for="input-{{ fieldValue.name }}" class="col-md-4 control-label">{{fieldValue.name}}</label>

                    <!-- The value of the property -->
                    <div class="col-md-8">
                        <input id="input-{{ fieldValue.name }}"
                               type="text" class="form-control default-value-color"
                               placeholder="{{field.defaultValue ? '[default=' + field.defaultValue + '] ' : ''}}"
                               ng-model="fieldValue.value" tooltip="{{field.comment}}"
                               tooltip-trigger="focus"
                               tooltip-placement="top"/>
                    </div>

                </div>

            </div>
            <md-button class = "md-btn md-button md-default-theme" tooltip="Supprimer un block" ng-click = "removeValue(index)">
                <span class="glyphicon glyphicon-minus"></span>
            </md-button>
        </div>
    </div>

</form>