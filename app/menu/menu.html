<div id="header">
    <md-toolbar class="md-menu-toolbar">
        <md-menu-bar class="menu">
            <a id="title" href="/" onclick="window.location.reload()">{{ Page.title() }}</a>
            <span class="menu-header"> / {{ 'menu.template.title' | translate }} <i class="fa fa-arrow-right"></i></span>
            <md-menu ng-controller="MenuTechnoCtrl">
                <button ng-click="$mdOpenMenu()" class="menu">
                    {{ 'menu.techno.title' | translate }} <i class="fa fa-caret-down"></i>
                </button>
                <md-menu-content class="menu-item">
                    <md-menu-item>
                        <md-button ng-click="open_create_techno_dialog()">
                            {{ 'menu.techno.create' | translate }}
                        </md-button>
                    </md-menu-item>
                    <md-menu-item>
                        <md-button ng-click="open_create_techno_from_dialog()">
                            {{ 'menu.techno.createFrom' | translate }}
                        </md-button>
                    </md-menu-item>
                    <md-menu-divider></md-menu-divider>
                    <md-menu-item>
                        <md-button id="fakeButtonSearchTechno">
                            fake
                        </md-button>
                        <md-autocomplete
                                md-no-cache="true"
                                md-selected-item="ctrl.selectedItem"
                                md-search-text="ctrl.searchText"
                                md-items="item in find_technos_by_name(ctrl.searchText)"
                                md-item-text="item.name"
                                md-selected-item-change="(item) ? open_techno_page(item.name, item.version, item.is_working_copy, '#fakeButtonSearchTechno') : false"
                                md-min-length="0"
                                md-autoselect="true"
                                placeholder="{{ 'placeholder.search' | translate}}">
                            <span md-highlight-text="ctrl.searchText" ng-show="item.is_working_copy">{{item.name}} {{item.version}} (working copy)</span>
                            <span md-highlight-text="ctrl.searchText" ng-show="!item.is_working_copy">{{item.name}} {{item.version}}</span>
                        </md-autocomplete>
                    </md-menu-item>
                </md-menu-content>
            </md-menu>
            <md-menu ng-controller="MenuModuleCtrl">
                <button ng-click="$mdOpenMenu()" class="menu">
                    {{ 'menu.module.title' | translate }} <i class="fa fa-caret-down"></i>
                </button>
                <md-menu-content class="menu-item">
                    <md-menu-item>
                        <md-button ng-click="open_create_module_dialog()">
                            {{ 'menu.module.create' | translate }}
                        </md-button>
                    </md-menu-item>
                    <md-menu-item>
                        <md-button ng-click="open_create_module_from_dialog()">
                            {{ 'menu.module.createFrom' | translate }}
                        </md-button>
                    </md-menu-item>
                    <md-menu-divider></md-menu-divider>
                    <md-menu-item>
                        <md-button id="fakeButtonSearchModule">
                            fake
                        </md-button>
                        <md-autocomplete
                                md-no-cache="true"
                                md-selected-item="ctrl.selectedItem"
                                md-search-text="ctrl.searchText"
                                md-items="item in find_modules_by_name(ctrl.searchText)"
                                md-item-text="item.name"
                                md-selected-item-change="(item) ? open_module_page(item.name, item.version, item.is_working_copy, '#fakeButtonSearchModule') : false"
                                md-min-length="0"
                                md-autoselect="true"
                                placeholder="{{ 'placeholder.search' | translate}}">
                            <span md-highlight-text="ctrl.searchText" ng-show="item.is_working_copy">{{item.name}} {{item.version}} (working copy)</span>
                            <span md-highlight-text="ctrl.searchText" ng-show="!item.is_working_copy">{{item.name}} {{item.version}}</span>
                        </md-autocomplete>
                    </md-menu-item>
                </md-menu-content>
            </md-menu>
            <span class="menu-header">{{ 'menu.properties.title' | translate }} <i class="fa fa-arrow-right"></i></span>
            <md-menu ng-controller="MenuPropertiesCtrl">
                <button ng-click="$mdOpenMenu()" class="menu">
                    {{ 'menu.platform.title' | translate }} <i class="fa fa-caret-down"></i>
                </button>
                <md-menu-content class="menu-item">
                    <md-menu-item>
                        <md-button ng-click="open_create_platform_dialog()">
                            {{ 'menu.platform.create' | translate }}
                        </md-button>
                    </md-menu-item>
                    <md-menu-item>
                        <md-button ng-click="open_create_platform_from_dialog()">
                            {{ 'menu.platform.createFrom' | translate }}
                        </md-button>
                    </md-menu-item>
                    <md-menu-divider></md-menu-divider>
                    <md-menu-item>
                        <md-button id="fakeButtonSearchProperties">
                            fake
                        </md-button>
                        <form ng-submit="open_properties_page(ctrl.searchText, null, '#fakeButtonSearchProperties', false)">
                        <md-autocomplete
                                md-no-cache="true"
                                md-selected-item="ctrl.selectedItem"
                                md-search-text="ctrl.searchText"
                                md-items="item in find_applications_by_name(ctrl.searchText)"
                                md-item-text="item.name"
                                md-selected-item-change="(item) ? open_properties_page(item.name, null, '#fakeButtonSearchProperties', true) : false"
                                md-min-length="0"
                                md-autoselect="true"
                                placeholder="{{ 'placeholder.search' | translate}}">
                            <span md-highlight-text="ctrl.searchText">{{item.name}} {{item.version}}</span>
                        </md-autocomplete>
                        </form>
                    </md-menu-item>
                </md-menu-content>
            </md-menu>


            <div class="menu-language" ng-controller="MenuHelpCtrl">
                <md-button ng-click="change_language('fr')" class="menu-language--fr" aria-label="{{ 'menu.language.fr.aria' | translate }}">
                    fr
                </md-button>

                <md-button ng-click="change_language('en')" class="menu-language--en" aria-label="{{ 'menu.language.en.aria' | translate }}">
                    en
                </md-button>
            </div>
            <md-menu class="menu-help" ng-controller="MenuHelpCtrl">
                <button ng-click="$mdOpenMenu()" class="menu">
                    {{ 'menu.help.title' | translate}} <i class="fa fa-question"></i>
                </button>
                <md-menu-content class="menu-item">
                    <md-menu-item>
                        <md-button ng-click="display_swagger()">
                            {{ 'menu.help.swagger' | translate}}
                        </md-button>
                    </md-menu-item>
                    <md-menu-item>
                        <md-button ng-click="display_hesperides_informations()">
                            {{ 'menu.help.about' | translate}}
                        </md-button>
                    </md-menu-item>
                </md-menu-content>
            </md-menu>
            <div class="menu-user" ng-controller="MenuHelpCtrl">
                <md-button ng-click="display_settings()">
                    <i class="fa fa-cog" aria-label="{{ 'menu.help.settings' | translate }}"></i>
                </md-button>
            </div>
        </md-menu-bar>
    </md-toolbar>
</div>